<!DOCTYPE html>
<html>
<head>
	<title>Ankush Jamdagani | Portfolio</title>
	<script
  src="src/third-party/jquery-1.12.4.min.js"></script>
</head>
<body>
	<style media="screen">

	</style>
	<div id="body-wrapper">
		<div id="window" class="normal">
			<div id="window-head">
				<div class="window-controls">
					<div class="window-control reposition" draggable="true" data-action="REPOSITION">
						<i class="fa fa-arrows"></i>
					</div>
					<div class="window-control minimize" data-action="MINIMIZE">
						<i class="fa fa-window-minimize"></i>
					</div>
					<div class="window-control restore" data-action="RESTORE">
						<i class="fa fa-window-restore"></i>
					</div>
					<div class="window-control maximize" data-action="MAXIMIZE">
						<i class="fa fa-window-maximize"></i>
					</div>
				</div>
				<div class="center-controls">
					<div id="search-bar" class="bar long">
						<input type="text" name="" placeholder="Enter something to search here..." value="">
					</div>
					<!-- <div class="bar small"></div> -->
				</div>
				<div class="right-controls">
					<div id="device-toggle" class="dropdown">
						<div class="dropdown-link">
							<i class="fa fa-bars"></i>
						</div>
						<ul class="dropdown-list">
							<li class="active device mob">
								<i class="fa fa-mobile"></i>
							</li>
							<li class="device tab">
								<i class="fa fa-tablet"></i>
							</li>
							<li class="device tel">
								<i class="fa fa-television"></i>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div id="window-body">

			</div>
			<div id="window-foot">

			</div>
		</div>
	</div>
	<script type="text/javascript">

		$(document).ready(function () {

			$(document).on('click', '.dropdown-link', function () {
				$(this).closest('.dropdown').toggleClass('active')
			})

			let factoryWindow = function () {
				let _x = 0,
					_y = 0,
					_width = 600,
					_height = 480;

				let _calculateInitialSize = function () {
					__frameWidth = $('body')[0].clientWidth;
					__frameHeight = $('body')[0].clientHeight;

					_width = __frameWidth * .6;
					_height = __frameHeight * .8;
					_y = __frameHeight * .1;
					_x = __frameWidth * .2;

					$('#window').css('width', _width + 'px');
					$('#window').css('height', _height + 'ox');
					$('#window').css('left', _x + 'px');
					$('#window').css('top', _y + 'px');
				}

				let setSize = function (x = _x, y = _y, w = _width, h = _height) {
					_x = x;
					_y = y;
					_width = w;
					_height = h;
				}

				let getSize = function () {

					return {
						left: _x,
						top: _y,
						width: _width,
						height: _height
					}
				}


				let _bindEvents = function () {
					$('.window-control').on('click', function (e) {
						e.preventDefault();
						e.stopPropagation();

						$('#window').removeClass();

						let _ACTION = $(this).data('action');
						switch (_ACTION) {
							case 'MINIMIZE':
								$('#window').addClass('minimized');
								$('#window').attr('style', '');
								break;
							case 'MAXIMIZE':
								$('#window').addClass('maximized');
								$('#window').attr('style', '');
								break;
							case 'RESTORE':
								$('#window').addClass('normal');
								let size = getSize();

								for (var key in size) {
									if (size.hasOwnProperty(key)) {
										$('#window').css(key, size[key] + 'px')
									}
								}
								break;
							case 'REPOSITION':
								$('#window').addClass('normal');
								break;
							default:
								break;
						}
					})

					$('.window-control.reposition')
					.on('dragstart', function () {
						$('#window').addClass('dragging')
					})
					.on('dragend', function () {
						$('#window').removeClass('dragging')
					})
					.on('drag', function (e) {
						if(e.clientX === 0 || $('#window').hasClass('minimized'))
							return false;

						if($('#window').hasClass('maximized')) {
							$('#window').css('left', (0) + 'px')
							$('#window').css('top', (0) + 'px')

							$('#window').removeClass('maximized')
							$('#window').addClass('normal')
							setSize(0, 0);
						}
						else {
							$('#window.normal').css('left', (e.clientX - 20) + 'px')
							$('#window.normal').css('top', (e.clientY - 20) + 'px')

							setSize(e.clientX - 20, e.clientY - 20);
						}
					})
				}

				_calculateInitialSize();
				_bindEvents();
			};

			factoryWindow();
		})


	</script>
	<script type="text/javascript" src="./dist/bundle.js"></script>
</body>
</html>
